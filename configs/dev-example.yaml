# Sentinel Configuration Example - Development
#
# This example demonstrates a minimal development configuration
# with shorter intervals for faster local testing.
#
# Broker configuration is now managed by the hyperfleet-broker library.
# For local development with RabbitMQ (easiest option):
#
# Quick start with Docker:
#   docker run -d --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3-management
#   export BROKER_RABBITMQ_URL=amqp://guest:guest@localhost:5672/
#   ./bin/sentinel serve --config=configs/dev-example.yaml
#
# Or configure via broker.yaml (see broker.yaml in project root)

# Resource type to watch - must be one of: clusters, nodepools.
resource_type: clusters

# Faster polling for development - see changes quickly.
poll_interval: 2s

# Shorter max age intervals for development.
max_age_not_ready: 5s
max_age_ready: 2m

# No resource selector - watch all resources in development.
# resource_selector: []

# HyperFleet API configuration.
hyperfleet_api:
  # Local development API endpoint.
  # Adjust this to match your local HyperFleet API instance.
  endpoint: http://localhost:8000

  # Shorter timeout for faster failure detection in dev.
  timeout: 10s

# Message data template configuration (optional).
# Minimal set for development.
# Uses Go template syntax - both .field and {{.field}} formats are supported.
message_data:
  resource_id: .id
  resource_type: .kind
  href: .href
  generation: .generation

# Broker configuration is managed by the hyperfleet-broker library.
# For local development, use environment variable:
#   export BROKER_RABBITMQ_URL=amqp://guest:guest@localhost:5672/
#
# Or create a broker.yaml file:
#   broker:
#     type: rabbitmq
#     rabbitmq:
#       url: amqp://guest:guest@localhost:5672/
#       exchange_type: topic
#
# RabbitMQ Management UI: http://localhost:15672 (guest/guest)
